---
import Layout from "#layouts/Layout.astro";
import Prose from "#components/prose.astro";
import Button from "#components/button.astro";
---

<Layout>
  <Prose as="main">
    <main>
      <Button onclick="window.location.reload()">Roll</Button>
      <div class="text-9xl font-black font-mono" id="d"></div>
    </main>
  </Prose>
</Layout>

<script>
  function rng(n: number) {
    return Math.floor(Math.random() * n) + 1;
  }

  document.getElementById("d").innerHTML = String(
    rng(
      Number(
        window.location.hash
          .replace("#", "")
          .split("/")
          .at(0) || 6,
      ),
    ),
  );
</script>
